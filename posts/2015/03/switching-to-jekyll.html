
<!DOCTYPE html>
<html lang="en">
        <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=Edge"/>

        <title>Miroslav Popovic - Switching to Jekyll</title>
        <meta name="description" content="Full-stack .NET and JavaScript software architect" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0">        

        <link type="application/rss+xml" rel="alternate" title="Miroslav Popovic" href="/feed.xml" />
                <link type="application/atom+xml" rel="alternate" title="Miroslav Popovic" href="/feed.atom" />
        <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
        <link rel="icon" href="/favicon.ico" type="image/x-icon">

        <link href="/assets/css/bootstrap.min.css" rel="stylesheet" />
        <link href="/assets/css/highlight.css" rel="stylesheet">
        <link href="/assets/css/clean-blog.css" rel="stylesheet" />
        <link href="/assets/css/master.css" rel="stylesheet" />
        <link href="/assets/css/font-awesome.min.css" rel="stylesheet" type="text/css">
        <link href='//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
        <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>
        <link href="/assets/css/override.css" rel="stylesheet" />


        <meta name="application-name" content="Miroslav Popovic" />
        <meta name="msapplication-tooltip" content="Miroslav Popovic" />
        <meta name="msapplication-starturl" content="/" />

        <meta property="og:title" content="Miroslav Popovic - Switching to Jekyll" />
        <meta property="og:type" content="website" />
        <meta property="og:url" content="https://miroslavpopovic.com/posts/2015/03/switching-to-jekyll" />
        <!-- TODO: More social graph meta tags -->

                <!-- Icons -->
        <link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
        <link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
        <link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
        <link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png">
        <link rel="apple-touch-icon" sizes="60x60" href="/apple-touch-icon-60x60.png">
        <link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png">
        <link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png">
        <link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png">
        <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png">
        <link rel="icon" type="image/png" href="/favicon-192x192.png" sizes="192x192">
        <link rel="icon" type="image/png" href="/favicon-160x160.png" sizes="160x160">
        <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
        <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
        <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">

        

        </head>
        <body>
                
                <!-- Navigation -->
                <nav class="navbar navbar-default navbar-custom navbar-fixed-top">
                        <div class="container-fluid">
                                <!-- Brand and toggle get grouped for better mobile display -->
                                <div class="navbar-header page-scroll">
                                        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-collapse">
                                        <span class="sr-only">Toggle navigation</span>
                                        <span class="icon-bar"></span>
                                        <span class="icon-bar"></span>
                                        <span class="icon-bar"></span>
                                        </button>
                                        <a class="navbar-brand" href="/">Miroslav Popovic</a>
                                </div>
                        
                                <!-- Collect the nav links, forms, and other content for toggling -->
                                <div class="collapse navbar-collapse" id="navbar-collapse">
                                        <ul class="nav navbar-nav navbar-right">
                                                        <li><a href="/posts">Archive</a></li>
        <li><a href="/tags">Tags</a></li>
        <li><a href="/about">About Me</a></li>
        <li><a href="/speaking">Speaking</a></li>
 
                                        </ul>
                                </div>
                                <!-- /.navbar-collapse -->
                        </div>
                        <!-- /.container -->
                </nav>
                
                <!-- Page Header -->
                <header class="intro-header" id="intro-header">
                        <div class="container">
                                <div class="row">
                                        <div class="col-md-12">

    
<div class="post-heading">
    <h1>Switching to Jekyll</h1>
    <div class="meta">        
Published on Monday, March 23, 2015<br>    </div>
        <div class="tags">
                    <a role="button" href="/tags/blog" class="btn btn-default btn-xs">blog</a>
                    <a role="button" href="/tags/jekyll" class="btn btn-default btn-xs">jekyll</a>
        </div>     
</div>
                                        </div>
                                </div>
                        </div>
                </header>
                
                <!-- Main Content -->
                <div class="container">
                        <div class="row">
                                <div id="content" class="col-md-12">
                                        

<p>I decided to switch my blog from <a href="http://www.funnelweblog.com/">FunnelWeb</a> to <a href="http://jekyllrb.com/">Jekyll</a> and host it on <a href="https://pages.github.com/">GitHub Pages</a>. There were some problems along the way so I'm documenting it here in case it might help someone. If you want a more detailed introduction to Jekyll, read Brian Rinaldi's <a href="http://developer.telerik.com/featured/getting-started-with-jekyll/">Getting Started with Jekyll</a> post.</p>
<h2 id="installing-jekyll-on-windows">Installing Jekyll on Windows</h2>
<p>Since I'm not a designer, I decided to choose one of <a href="https://github.com/jekyll/jekyll/wiki/Themes">many Jekyll themes</a> and modify if necessary. Changing the theme directly on GitHub would be clumsy, since a lot of files are involved. Also doing little changes and testing the outcome would require a lot of git commits. Instead, I cloned my repository locally and installed Jekyll and its requirements on my Windows machine.</p>
<p>There's a <a href="http://jekyll-windows.juthilo.com/">very good tutorial</a> for installing Jekyll on Windows. Unfortunately it's a little bit older. I followed the guide and installed the latest version of x64 build of Ruby, Ruby DevKit, Jekyll, x64 build of Python and Pygments. The latest Ruby version at the time of writing was 2.2.1.</p>
<p>It looked like everything went smoothly, but when trying to run <code>Jekyll serve</code> on my blog repository, it failed. The problem was with one of the Ruby gems called <a href="http://www.nokogiri.org/">nokogiri</a>. Apparently, it <a href="http://stackoverflow.com/questions/28999906/require-cannot-load-such-file-nokogiri-nokogiri-loaderror-when-running">doesn't work</a> with Ruby 2.2.1 on Windows, so I had to fall back to older Ruby version - 2.1.5.</p>
<p>Of course, something had to go wrong with that too. After installing Ruby 2.1.5 x64 and Ruby DevKit, gem installation with the following message:</p>
<pre><code class="language-bat">gem install jekyll
ERROR:  Could not find a valid gem 'jekyll' (&gt;= 0), here is why:
       	Unable to download data from https://rubygems.org/ - SSL_connect returned=1 errno=0 state=SSLv3 read server certificate B: certificate verify failed (https://api.rubygems.org/latest_specs.4.8.gz)
</code></pre>
<p><a href="http://stackoverflow.com/a/27641786/119230">This SO answer</a> helped and I was able to install Jekyll after that.</p>
<p>Since I'm referencing few Ruby gems in <code>_config.yml</code> I had to install those too:</p>
<pre><code class="language-bat">gem install jekyll-sitemap
gem install jekyll-redirect-from
gem install jemoji
</code></pre>
<p>Finally, running the following command started the build process and enabled file change watcher. Success!</p>
<pre><code class="language-bat">jekyll serve --watch
</code></pre>
<p>I tested several themes locally, before settling up with Pixyll theme.</p>
<h2 id="creating-user-repository">Creating user repository</h2>
<p>There's an easy getting started guide on <a href="http://www.smashingmagazine.com/2014/08/01/build-blog-jekyll-github-pages/">Smashing Magazine</a>. I ended up with <a href="https://github.com/miroslavpopovic/miroslavpopovic.github.io">user repository</a> forked from John Otander's <a href="https://github.com/johnotander/pixyll">Pixyll</a> theme, instead of <a href="https://github.com/barryclark/jekyll-now">Jekyll Now</a> that's described in the guide above.</p>
<p>In <code>_config.yml</code> file <code>permalink</code> is set to <code>pretty</code>. That's what I want it to be, since I prefer to <a href="http://jekyllrb.com/docs/permalinks/#built-in-permalink-styles">have date in URL and no extension</a>. My blog posts didn't have date in URL before, so I had also added <code>jekyll-redirect-from</code> gem to <code>gems</code> section. With this gem installed, you can tell Jekyll to create redirects from defined URL to the current page or post. This is done with Front Matter instruction on top of the post. For example:</p>
<pre><code>---
layout: post
title: Resurrection
redirect_from: &quot;/resurrection/&quot;
---
</code></pre>
<p>Note that the <code>redirect_from</code> value needs to have trailing slash, otherwise GitHub Pages will serve the generated document as file download instead of a regular page, causing browsers to download it. Hopefully, this will not cause SEO problems since my previous URLs were without the trailing slash.</p>
<p>GitHub itself can serve as an editor for your posts. Since there were only nine posts on my blog, it was not necessary to create some kind of migration tool. I just added them one by one through GitHub repository (they were already in Markdown format).</p>
<p>One thing that needed to be changed was the format of links. Markdown supports <a href="http://daringfireball.net/projects/markdown/syntax#link">two types of links</a> inline and reference. I had reference links in my posts. They were processed correctly on post pages, but post excerpts on home page did not process them - they were displayed in markdown syntax. After switching to inline links it worked correctly.</p>
<h2 id="domain-redirection">Domain redirection</h2>
<p>My old blog was hosted on <a href="https://billing.aspnix.com/aff.php?aff=079">ASPnix</a> under a custom subdomain. Following the <a href="https://help.github.com/articles/setting-up-a-custom-domain-with-github-pages/">GitHub guide</a>, I had to delete the subdomain first and create a custom <code>cname</code> record for <code>blog</code> that points to <code>miroslavpopovic.github.io</code>.</p>
<p>Also, <a href="https://feedburner.google.com/">FeedBurner</a> had to be redirected to use <code>/feed.xml</code> file instead of <code>/feed</code>. Users that were subscribed to my RSS feed will get one time refresh of all items, since post ids are different.</p>
<p><a href="https://disqus.com/">Disqus</a> was used for my blog comments and since my post URLs are changed, I also needed to create the map between old and new URLs. There's a migrate tool in Admin area of Disqus for that. To get to Admin area, log in to Disqus, and select Admin from your profile drop-down menu on top right. Select your blog if not already selected and go to Discussion / Tools / Upload a URL map. You'll find the instructions on how to create CSV map file and upload it.</p>
<h2 id="final-words">Final words</h2>
<p>That's it. Migration was relatively straightforward with few problems here and there. My blog is now a Jekyll generated static site hosted on GitHub Pages.</p>
<p>GitHub repository for my blog is <a href="https://github.com/miroslavpopovic/miroslavpopovic.github.io">available here</a>.</p>


<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'miroslavpopovic';
    var disqus_identifier = 'switching-to-jekyll';
    var disqus_title = 'Switching to Jekyll';
    var disqus_url = 'https://miroslavpopovic.com/posts/2015/03/switching-to-jekyll';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();

    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

                                </div>
                        </div>
                </div>
                
                <hr>
                
                <!-- Footer -->
                <footer>
                        <div class="container">
    <div class="row">
        <div class="col-md-12 text-center">

            <ul class="list-inline">
                <li>
                    <a href="https://twitter.com/miroslavpopovic" target="_blank" title="Twitter Profile">
                        <span class="fa-stack fa-lg">
                            <i class="fa fa-circle fa-stack-2x"></i>
                            <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                        </span>
                    </a>
                </li>
                <li>
                    <a href="https://github.com/miroslavpopovic" target="_blank" title="Github Profile">
                        <span class="fa-stack fa-lg">
                            <i class="fa fa-circle fa-stack-2x"></i>
                            <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                        </span>
                    </a>
                </li>
                <li>
                    <a href="https://www.linkedin.com/in/miroslavpopovic/" target="_blank" title="LinkedIn Profile">
                        <span class="fa-stack fa-lg">
                            <i class="fa fa-circle fa-stack-2x"></i>
                            <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i>
                        </span>
                    </a>
                </li>
                <li>
                    <a href="https://www.slideshare.net/miroslavpopovic" target="_blank" title="SlideShare Profile">
                        <span class="fa-stack fa-lg">
                            <i class="fa fa-circle fa-stack-2x"></i>
                            <i class="fa fa-slideshare fa-stack-1x fa-inverse"></i>
                        </span>
                    </a>
                </li>
                <li>
                    <a href="https://www.meetup.com/blbitug/" target="_blank" title="BLbit User Group Meetup">
                        <span class="fa-stack fa-lg">
                            <i class="fa fa-circle fa-stack-2x"></i>
                            <i class="fa fa-users fa-stack-1x fa-inverse"></i>
                        </span>
                    </a>
                </li>
                <li>
                    <a href="https://stackoverflow.com/users/119230" target="_blank" title="Stack Overflow Profile">
                        <span class="fa-stack fa-lg">
                            <i class="fa fa-circle fa-stack-2x"></i>
                            <i class="fa fa-stack-overflow fa-stack-1x fa-inverse"></i>
                        </span>
                    </a>
                </li>
                <li>
                    <a href="http://www.codeproject.com/Members/Miroslav-Popovic" target="_blank" title="Code Project Profile">
                        <span class="fa-stack fa-lg">
                            <i class="fa fa-circle fa-stack-2x"></i>
                            <i class="fa fa-file-text-o fa-stack-1x fa-inverse"></i>
                        </span>
                    </a>
                </li>
            </ul>

            <p class="copyright text-muted">
                    <a href="/feed.xml" class="btn-rss">
                        <span class="fa-stack fa-lg">
                            <i class="fa fa-circle fa-stack-2x"></i>
                            <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
                        </span> RSS Feed
                    </a>
                                    <a href="/feed.atom" class="btn-rss">
                        <span class="fa-stack fa-lg">
                            <i class="fa fa-circle fa-stack-2x"></i>
                            <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
                        </span> Atom Feed
                    </a>
                <br />
                Copyright © 2020 by Miroslav Popovic
                <br />
                <strong><a href="https://wyam.io" target="_blank">Generated by Wyam</a></strong>
            </p>
        </div>
    </div>
</div>

                </footer> 

                <script src="/assets/js/jquery.min.js"></script>
                <script src="/assets/js/bootstrap.min.js"></script>     
                <script src="/assets/js/highlight.pack.js"></script>   
                <script src="/assets/js/clean-blog.js"></script>
                <script src="/assets/js/d3.v3.min.js"></script>
                <script src="/assets/js/trianglify.min.js"></script>
                <script src="/assets/js/Please-compressed.js"></script>
                <script src="/assets/js/background-check.min.js"></script>

                <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
                <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
                <!--[if lt IE 9]>
                        <script src="/assets/js/html5shiv.js"></script>
                        <script src="/assets/js/respond.min.js"></script>
                <![endif]-->
                
                <script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-32542962-1', 'auto');
ga('send', 'pageview');
</script>

                <script>hljs.initHighlightingOnLoad();</script>

                        <script type="text/javascript">                
                                // Header background                        
                                var colors = Please.make_color({
                                        colors_returned: 3,
                                        saturation: .6
                                });
                                var t = new Trianglify({
                                        x_gradient: colors,
                                        y_gradient: ["#FFFFFF"]
                                });
                                var header = document.getElementById("intro-header");
                                var pattern = t.generate(header.clientWidth, header.clientHeight);
                                header.setAttribute('style', 'background-image: ' + pattern.dataUrl);                        
                        </script>

                <script>
                        BackgroundCheck.init({
                                targets: '.intro-header,.navbar',
                                images: '.intro-header'
                        });
                </script>
        </body>
</html>

